<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- The sender servlet configuration -->
<Sender>
  <!-- logging -->
  <Log>
    <!-- identifies the context for this log -->
    <LogId>Sender</LogId>
    <!-- full path to log file -->
    <LogName/>
    <!-- amount of detail found in log -->
    <LogLevel>debug</LogLevel>
    <!-- enable source locations in log -->
    <LogLocal>true</LogLocal>
    <!-- number of days to keep a log -->
    <LogDays/>
  </Log>
  <!-- Default directory for file or folder references -->
  <DefaultDirectory></DefaultDirectory>
  <!-- a directory to temporarily stash files queued for transmission -->
  <QueueDirectory>tmp</QueueDirectory>
  <!-- location for exported CPA's -->
  <CpaDirectory>CPA</CpaDirectory>
  <!-- second between map, queue, or other polling -->
  <PollInterval>10</PollInterval>
  <!-- maximum number of sender threads -->
  <MaxThreads/>
  <!-- trust store and password for SSL connections -->
  <TrustStore>security/cacerts</TrustStore>
  <TrustStorePassword>123456</TrustStorePassword>
  <!-- 
		Routes identify processing for queue records.
	 -->
  <RouteInfo>
    <Route>
      <Name>PHINMS270</Name>
      <Processor>tdunnick.jphineas.sender.ebxml.EbXmlRouteProcessor</Processor>
      <!-- the following is specific to ebXML, but should fit processor requirements -->
      <PartyId>phinms270sp1</PartyId>
      <Cpa>phinms270sp1.phineas</Cpa>
      <Host>localhost</Host>
      <Path>/receiver/receivefile</Path>
      <Port>5089</Port>
      <Protocol>HTTPS</Protocol>
      <Timeout>30</Timeout>
      <Retry>2</Retry>
      <Authentication>
        <!--  none, basic, clientcert  -->
        <Type>clientcert</Type>
        <Id/>
        <Password>123456</Password>
        <Unc>security/sslcert.pfx</Unc>
        <BaseDn/>
        <Dn/>
      </Authentication>
    </Route>
  </RouteInfo>
  <!-- 
		FolderInfo direct processing of sender files.  Each Folder can have it's own
		processor.  The archtype is for EbXML payload queueing, but virtually
		anything can be done as long as candidate files from Folder are consumed.
	 -->
  <MapInfo>
    <Map>
      <Name>TestFolder</Name>
      <Source>data/outgoing</Source>
      <Processor>tdunnick.jphineas.sender.ebxml.EbXmlFolderProcessor</Processor>
      <!-- the rest is processor specific, for EbXmlFolderProcessor... -->
      <Processed>data/processed</Processed>
      <Acknowledged>data/ack</Acknowledged>
      <Filter>
        <Class/>
        <Config/>
      </Filter>
      <Route>PHINMS270</Route>
      <Service>defaultservice</Service>
      <Action>defaultaction</Action>
      <Arguments/>
      <Recipient/>
      <Encryption>
        <!--  none, certificate, ldap, pbe  -->
        <Type>certificate</Type>
        <Id/>
        <Password/>
        <Unc>security/sslcert.pem</Unc>
      </Encryption>
      <Queue>HsqlSendQ</Queue>
    </Map>
  </MapInfo>
</Sender>
